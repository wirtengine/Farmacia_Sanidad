<!DOCTYPE html>
<html>
<head>
    <title>Clientes</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .messages { color: green; }
        .errors { color: red; }
    </style>
</head>
<body>
    <h1>Clientes</h1>

    <!-- Mostrar mensajes -->
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <a href="{% url 'cliente_create' %}">Nuevo Cliente</a>
    
    <table>
        <tr>
            <th>Nombre</th>
            <th>Teléfono</th>
            <th>Correo</th>
            <th>Acciones</th>
        </tr>
        {% for cliente in clientes %}
        <tr>
            <td>{{ cliente.nombre }}</td>
            <td>{{ cliente.telefono }}</td>
            <td>{{ cliente.correo }}</td>
            <td>
                <a href="{% url 'cliente_edit' cliente.pk %}">Editar</a>
                <form action="{% url 'cliente_delete' cliente.pk %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" onclick="return confirm('¿Está seguro?')">Eliminar</button>
                </form> 
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No hay clientes registrados</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>